import { Callout } from 'nextra/components'

# Exporting Crosslink-Spectrum-Matches and Crosslinks to MS Annika Format


```python copy
from pyXLMS import __version__

print(f"Installed pyXLMS version: {__version__}")
```
<Callout emoji="✓">
```
    Installed pyXLMS version: 1.5.3
```
</Callout>


```python copy
from pyXLMS import parser
from pyXLMS import exporter
```

All exporting functionality is available via the `exporter` submodule. We also import the `parser` submodule to read crosslink-spectrum-matches and crosslinks.


```python copy
parser_result = parser.read(
    "../../data/ms_annika/XLpeplib_Beveridge_QEx-HFX_DSS_R1.pdResult",
    engine="MS Annika",
    crosslinker="DSS",
)
csms = parser_result["crosslink-spectrum-matches"]
xls = parser_result["crosslinks"]
```
<Callout emoji="✓">
```
    Reading MS Annika CSMs...: 100%|█████████████████████████████████████████████████████████████████████████████████| 826/826 [00:00<00:00, 9855.76it/s]
    Reading MS Annika crosslinks...: 100%|██████████████████████████████████████████████████████████████████████████| 300/300 [00:00<00:00, 14068.39it/s]
```
</Callout>

We read crosslink-spectrum-matches and crosslinks using the [generic parser](https://hgb-bin-proteomics.github.io/pyXLMS/pyXLMS.parser.html#pyXLMS.parser.read) from a single `.pdResult` file. For easier access we also assign our crosslink-spectrum-matches to the variable `csms` and our crosslinks to the variable `xls`.


```python copy
_df = exporter.to_msannika(xls, filename=None)
```

The function `exporter.to_msannika()` exports a list of crosslinks or crosslink-spectrum-matches to [MS Annika](https://github.com/hgb-bin-proteomics/MSAnnika) format. This might be useful for tools that support MS Annika input but are not supported by pyXLMS (yet). You can read more about the `to_msannika()` function and all its parameters here: [**docs**](https://hgb-bin-proteomics.github.io/pyXLMS/pyXLMS.exporter.html#pyXLMS.exporter.to_msannika.to_msannika).

> [!TIP]
>
> **Specifying `filename=None` will only return the [pandas](https://pandas.pydata.org/) `DataFrame` and not write it to disk!**


```python copy
_df = exporter.to_msannika(csms, filename=None)
```

Exporting works for both crosslinks and crosslink-spectrum-matches.

> [!IMPORTANT]
>
> **The MS Annika exporter will not check if all necessary information is available for the exported crosslinks or crosslink-spectrum-matches. If a value is not available it will be denoted as a missing value in the dataframe and exported file. Please make sure all necessary information is available before using the exported file with another tool! Please also note that modifications are not exported, for modification down-stream analysis please refer to `transform.to_proforma()` \[[docs](https://hgb-bin-proteomics.github.io/pyXLMS/pyXLMS.transform.html#pyXLMS.transform.to_proforma.to_proforma)\] or `transform.to_dataframe()` \[[docs](https://hgb-bin-proteomics.github.io/pyXLMS/pyXLMS.transform.html#pyXLMS.transform.to_dataframe.to_dataframe)\]!**
