import { Callout } from 'nextra/components'

# Exporting Crosslinks to XLinkDB


```python copy
from pyXLMS import __version__

print(f"Installed pyXLMS version: {__version__}")
```
<Callout emoji="✓">
```
    Installed pyXLMS version: 1.5.3
```
</Callout>


```python copy
from pyXLMS import parser
from pyXLMS import exporter
```

All exporting functionality is available via the `exporter` submodule. We also import the `parser` submodule to read crosslink-spectrum-matches and crosslinks.


```python copy
parser_result = parser.read(
    "../../data/ms_annika/XLpeplib_Beveridge_QEx-HFX_DSS_R1_Crosslinks.xlsx",
    engine="MS Annika",
    crosslinker="DSS",
)
xls = parser_result["crosslinks"]
```
<Callout emoji="✓">
```
    Reading MS Annika crosslinks...: 100%|██████████████████████████████████████████████████████████████████████████| 300/300 [00:00<00:00, 19811.87it/s]
```
</Callout>

We read crosslinks using the [generic parser](https://hgb-bin-proteomics.github.io/pyXLMS/pyXLMS.parser.html#pyXLMS.parser.read) from a single MS Annika `.xlsx` file. For easier access we also assign our crosslinks to the variable `xls`.


```python copy
from pyXLMS.transform import validate, targets_only

xls = targets_only(validate(xls))
```
<Callout emoji="✓">
```
    Iterating over scores for FDR calculation...:  25%|██████████████████                                                       | 74/300 [00:00<?, ?it/s]
```
</Callout>

> [!IMPORTANT]
>
> **For down-stream analysis with XLinkDB you would usually want to only consider high-confidence target crosslinks, either by pre-filtering in the search engine of your choice or via the pyXLMS functions `validate()` \[[docs](https://hgb-bin-proteomics.github.io/pyXLMS/pyXLMS.transform.html#pyXLMS.transform.validate.validate)\] and `targets_only()` \[[docs](https://hgb-bin-proteomics.github.io/pyXLMS/pyXLMS.transform.html#pyXLMS.transform.targets_only.targets_only)\]!**


```python copy
_df = exporter.to_xlinkdb(xls, filename=None)
```

The function `exporter.to_xlinkdb()` exports a list of crosslinks to [XLinkDB](https://doi.org/10.1021/acs.jproteome.2c00109) format. The tool XLinkDB is accessible via the link [xlinkdb.gs.washington.edu/xlinkdb](https://xlinkdb.gs.washington.edu/xlinkdb/index.php). Requires that `alpha_proteins` and `beta_proteins` fields are set for all crosslinks. The filename - if provided - should only contain alphanumeric characters to match the [XLinkDB format specification](https://xlinkdb.gs.washington.edu/xlinkdb/Help.php). You can read more about the `to_xlinkdb()` function and all its parameters here: [**docs**](https://hgb-bin-proteomics.github.io/pyXLMS/pyXLMS.exporter.html#pyXLMS.exporter.to_xlinkdb.to_xlinkdb).

> [!TIP]
>
> **Specifying `filename=None` will only return the [pandas](https://pandas.pydata.org/) `DataFrame` and not write it to disk!**
