import { Callout } from 'nextra/components'

# Exporting Crosslinks to XMAS


```python copy
from pyXLMS import __version__

print(f"Installed pyXLMS version: {__version__}")
```
<Callout emoji="✓">
```
    Installed pyXLMS version: 1.5.3
```
</Callout>


```python copy
from pyXLMS import parser
from pyXLMS import exporter
```

All exporting functionality is available via the `exporter` submodule. We also import the `parser` submodule to read crosslink-spectrum-matches and crosslinks.


```python copy
parser_result = parser.read(
    "../../data/ms_annika/XLpeplib_Beveridge_QEx-HFX_DSS_R1_Crosslinks.xlsx",
    engine="MS Annika",
    crosslinker="DSS",
)
xls = parser_result["crosslinks"]
```
<Callout emoji="✓">
```
    Reading MS Annika crosslinks...: 100%|██████████████████████████████████████████████████████████████████████████| 300/300 [00:00<00:00, 17341.39it/s]
```
</Callout>

We read crosslinks using the [generic parser](https://hgb-bin-proteomics.github.io/pyXLMS/pyXLMS.parser.html#pyXLMS.parser.read) from a single MS Annika `.xlsx` file. For easier access we also assign our crosslinks to the variable `xls`.


```python copy
from pyXLMS.transform import validate, targets_only

xls = targets_only(validate(xls))
```
<Callout emoji="✓">
```
    Iterating over scores for FDR calculation...:  25%|██████████████████                                                       | 74/300 [00:00<?, ?it/s]
```
</Callout>

> [!IMPORTANT]
>
> **For down-stream analysis with XMAS you would usually want to only consider high-confidence target crosslinks, either by pre-filtering in the search engine of your choice or via the pyXLMS functions `validate()` \[[docs](https://hgb-bin-proteomics.github.io/pyXLMS/pyXLMS.transform.html#pyXLMS.transform.validate.validate)\] and `targets_only()` \[[docs](https://hgb-bin-proteomics.github.io/pyXLMS/pyXLMS.transform.html#pyXLMS.transform.targets_only.targets_only)\]!**


```python copy
_df = exporter.to_xmas(xls, filename=None)
```

The function `exporter.to_xmas()` exports a list of crosslinks to [XMAS](https://doi.org/10.1101/2022.04.21.489026) format for visualization in [ChimeraX](https://www.cgl.ucsf.edu/chimerax/). The tool XMAS is accessible via the link [github.com/ScheltemaLab/ChimeraX_XMAS_bundle](https://github.com/ScheltemaLab/ChimeraX_XMAS_bundle) or directly via the [ChimeraX Toolshed](https://cxtoolshed.rbvi.ucsf.edu/apps/chimeraxxmas). You can read more about the `to_xmas()` function and all its parameters here: [**docs**](https://hgb-bin-proteomics.github.io/pyXLMS/pyXLMS.exporter.html#pyXLMS.exporter.to_xmas.to_xmas).

> [!TIP]
>
> **Specifying `filename=None` will only return the [pandas](https://pandas.pydata.org/) `DataFrame` and not write it to disk!**
